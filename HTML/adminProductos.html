<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/CSS/output.css" rel="stylesheet">
    <title>Administrar Productos</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="/CSS/modal.css">
    <link rel="stylesheet" href="/CSS/notificacion.css">
</head>
<body class="bg-zinc-100">
    <!-- Navbar -->
    <nav class="navBar">
        <div class="navBarLogoContainer">
            <span class="navBarLogoText">Tienda de Ordenadores</span>
        </div>
        <div class="navBarButtonContainer">
            <button id="boton" class="navBarButton">
                <svg class="navBarButtonSvg" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <title>Menu</title>
                    <path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"/>
                </svg>
            </button>
        </div>
        <div id="menu" class="navBarMenu hidden lg:block">
            <div class="navBarMenuItemContainer">
                <a href="/HTML/index.html" class="navBarMenuItem">Inicio</a>
                <a href="/HTML/productos.html" class="navBarMenuItem">Productos</a>
                <a href="/HTML/contanto.html" class="navBarMenuItem">Contacto</a>
                <a href="/HTML/sobreNosotros.html" class="navBarMenuItem">Sobre Nosotros</a> 
                <a href="/HTML/login.html" id="loginNav" class="navBarMenuItem">Iniciar Sesión</a>
                <a href="/HTML/register.html" id="registerNav" class="navBarMenuItem">Registrarse</a>
                <a href="#" id="userNav" class="navBarMenuItem hidden"></a> <!-- Este enlace mostrará el nombre del usuario -->
                <a href="#" id="logoutNav" class="navBarMenuItem hidden">Cerrar Sesión</a> <!-- Este enlace cerrará la sesión -->
                <div class="navBarCartContainer relative inline-block">
                    <a href="/HTML/carrito.html" id="openCartModal" class="navBarCart relative">
                        <i class="fas fa-shopping-cart"></i>
                        <span id="cartCount" class="cartCount hidden">0</span>
                    </a>
                </div>
            </div>
        </div>        
    </nav>

    <!-- Sección de Administrar Productos -->
    <section class="adminSection">
        <h2 class="adminSectionTitle">Administrar Productos</h2>
        <div class="adminCardContainer">
            <div class="adminCard">
                <div class="adminCardTitle">Productos</div>
                <button id="openModalButton" class="adminCardButton">Agregar</button> <!-- Asegúrate de que este botón tiene el ID correcto -->
                <button id="openDeleteModalButton" class="adminCardButton delete">Eliminar</button>
                <button id="openListModalButton" class="adminCardButton">Listar</button>
                <button id="viewProductsButton" class="adminCardButton">Ver productos</button>
            </div>
        </div>
    </section>

    <!-- Sección de Administrar Productos Más Vendidos -->
    <section class="adminSection">
        <h2 class="adminSectionTitle">Administrar Productos Más Vendidos</h2>
        <div class="adminCardContainer">
            <div class="adminCard">
                <div class="adminCardTitle">Productos Más Vendidos</div>
                <button id="addBestSellingProductButton" class="adminCardButton">Agregar</button> <!-- Botón para agregar un producto a la lista de más vendidos -->
                <button id="removeBestSellingProductButton" class="adminCardButton delete">Eliminar</button> <!-- Botón para eliminar un producto de la lista de más vendidos -->
                <button id="listBestSellingProductsButton" class="adminCardButton">Listar</button> <!-- Botón para listar los productos más vendidos -->
                <button id="viewBestSellingProductsButton" class="adminCardButton">Ver productos</button> <!-- Botón para ver detalles de los productos más vendidos -->
            </div>
        </div>
    </section>

    <!-- Sección de Administrar Productos en Oferta -->
    <section class="adminSection">
        <h2 class="adminSectionTitle">Administrar Productos en Oferta</h2>
        <div class="adminCardContainer">
            <div class="adminCard">
                <div class="adminCardTitle">Productos en Oferta</div>
                <button id="addDiscountedProductButton" class="adminCardButton">Agregar</button> <!-- Botón para agregar un producto a la lista de productos en oferta -->
                <button id="removeDiscountedProductButton" class="adminCardButton delete">Eliminar</button> <!-- Botón para eliminar un producto de la lista de productos en oferta -->
                <button id="listDiscountedProductsButton" class="adminCardButton">Listar</button> <!-- Botón para listar los productos en oferta -->
                <button id="viewDiscountedProductsButton" class="adminCardButton">Ver productos</button> <!-- Botón para ver detalles de los productos en oferta -->
            </div>
        </div>
    </section>

    <!-- Modal para Agregar Producto -->
    <div id="addProductModal" class="modal hidden">
        <div class="modal-content">
            <h3 class="adminCardTitle">Agregar Nuevo Producto</h3>
            <form id="addProductForm" action="/add-product" method="POST" class="space-y-4">
                <div>
                    <label for="productName" class="block text-sm font-medium text-gray-700">Nombre del Producto</label>
                    <input type="text" id="productName" name="product_name" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
                </div>
                <div>
                    <label for="productDescription" class="block text-sm font-medium text-gray-700">Descripción</label>
                    <textarea id="productDescription" name="description" class="contactTextarea" rows="3" required></textarea>
                </div>
                <div>
                    <label for="productDescription" class="block text-sm font-medium text-gray-700">Componentes</label>
                    <textarea id="productComponentes" name="components" class="contactTextarea" rows="3" required></textarea>
                </div>                
                <div>
                    <label for="productPrice" class="block text-sm font-medium text-gray-700">Precio</label>
                    <input type="number" id="productPrice" name="price" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
                </div>
                <div>
                    <label for="productStock" class="block text-sm font-medium text-gray-700">Stock</label>
                    <input type="number" id="productStock" name="stock" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
                </div>
                <div>
                    <label for="imageURL" class="block text-sm font-medium text-gray-700">URL de la Imagen del Producto</label>
                    <input type="text" id="imageURL" name="image_url" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" placeholder="Ingresa la URL de la imagen" required>
                    <div id="imagePreview" class="mt-2">
                        <img id="previewImg" src="" alt="Previsualización de la imagen" class="hidden w-40 h-40 object-cover rounded-md">
                    </div>
                </div>
                <div class="text-right">
                    <button type="submit" class="adminCardButton">Agregar Producto</button>
                    <button type="button" id="closeModalButton" class="adminCardButton hide">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para Eliminar Producto -->
    <div id="deleteProductModal" class="modal hidden">
        <div class="modal-content">
            <h3 class="adminCardTitle">Eliminar Producto</h3>
            <div id="productList" class="space-y-4">
                <!-- Aquí se cargarán los productos desde la base de datos -->
            </div>
            <div class="text-right">
                <button type="button" id="closeDeleteModalButton" class="adminCardButton hide">Cerrar</button>
            </div>
        </div>
    </div>

    <!-- Modal para Listar Productos -->
    <div id="listProductsModal" class="modal hidden">
        <div class="modal-content">
            <h3 class="adminCardTitle">Lista de Productos</h3>
            <div id="productListContainer" class="space-y-4">
                <!-- Aquí se cargarán los productos desde la base de datos -->
            </div>
            <div class="text-right">
                <button type="button" id="closeListModalButton" class="adminCardButton hide">Cerrar</button>
            </div>
        </div>
    </div>

    <!-- Modal para Agregar Producto a la Lista de Más Vendidos -->
    <div id="addBestSellingProductModal" class="modal hidden">
        <div class="modal-content">
            <h3 class="adminCardTitle">Agregar Producto a Más Vendidos</h3>
            <form id="addBestSellingProductForm" action="/add-best-selling-product" method="POST" class="space-y-4">
                <div>
                    <label for="productName" class="block text-sm font-medium text-gray-700">Nombre del Producto</label>
                    <input type="text" id="productName" name="product_name" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
                </div>
                <div>
                    <label for="totalSales" class="block text-sm font-medium text-gray-700">Total de Ventas</label>
                    <input type="number" id="totalSales" name="total_sales" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
                </div>
                <div>
                    <label for="lastSoldAt" class="block text-sm font-medium text-gray-700">Última Fecha de Venta</label>
                    <input type="date" id="lastSoldAt" name="last_sold_at" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
                </div>
                <div class="text-right">
                    <button type="submit" class="adminCardButton">Agregar a Más Vendidos</button>
                    <button type="button" id="closeAddBestSellingModalButton" class="adminCardButton hide">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para Eliminar Producto de la Lista de Más Vendidos -->
    <div id="deleteBestSellingProductModal" class="modal hidden">
        <div class="modal-content">
            <h3 class="adminCardTitle">Eliminar Producto de Más Vendidos</h3>
            <div id="bestSellingProductList" class="space-y-4">
                <!-- Aquí se cargarán los productos más vendidos desde la base de datos -->
            </div>
            <div class="text-right">
                <button type="button" id="closeDeleteBestSellingModalButton" class="adminCardButton hide">Cerrar</button>
            </div>
        </div>
    </div>

    <!-- Modal para Listar Productos Más Vendidos -->
    <div id="listBestSellingProductsModal" class="modal hidden">
        <div class="modal-content">
            <h3 class="adminCardTitle">Lista de Productos Más Vendidos</h3>
            <div id="bestSellingProductListContainer" class="space-y-4">
                <!-- Aquí se cargarán los productos más vendidos desde la base de datos -->
            </div>
            <div class="text-right">
                <button type="button" id="closeListBestSellingModalButton" class="adminCardButton hide">Cerrar</button>
            </div>
        </div>
    </div>

    <!-- Modal para Agregar Producto en Oferta -->
    <div id="addDiscountedProductModal" class="modal hidden">
        <div class="modal-content">
            <h3 class="adminCardTitle">Agregar Producto en Oferta</h3>
            <form id="addDiscountedProductForm" action="/add-discounted-product" method="POST" class="space-y-4">
                <div>
                    <label for="discountedProductName" class="block text-sm font-medium text-gray-700">Nombre del Producto</label>
                    <input type="text" id="discountedProductName" name="product_name" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
                </div>
                <div>
                    <label for="discountedProductDescription" class="block text-sm font-medium text-gray-700">Descripción</label>
                    <textarea id="discountedProductDescription" name="description" class="contactTextarea" rows="3" required></textarea>
                </div>
                <div>
                    <label for="discountedProductComponents" class="block text-sm font-medium text-gray-700">Componentes</label>
                    <textarea id="discountedProductComponents" name="components" class="contactTextarea" rows="3" required></textarea>
                </div>                
                <div>
                    <label for="discountedProductPriceBefore" class="block text-sm font-medium text-gray-700">Precio Antes</label>
                    <input type="number" id="discountedProductPriceBefore" name="price_before" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
                </div>
                <div>
                    <label for="discountedProductPriceNow" class="block text-sm font-medium text-gray-700">Precio Ahora</label>
                    <input type="number" id="discountedProductPriceNow" name="price_now" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
                </div>                
                <div>
                    <label for="discountedProductStock" class="block text-sm font-medium text-gray-700">Stock</label>
                    <input type="number" id="discountedProductStock" name="stock" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
                </div>
                <div>
                    <label for="discountedImageURL" class="block text-sm font-medium text-gray-700">URL de la Imagen del Producto</label>
                    <input type="text" id="discountedImageURL" name="image_url" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" placeholder="Ingresa la URL de la imagen" required>
                    <div id="discountedImagePreview" class="mt-2">
                        <img id="discountedPreviewImg" src="" alt="Previsualización de la imagen" class="hidden w-40 h-40 object-cover rounded-md">
                    </div>
                </div>
                <div class="text-right">
                    <button type="submit" class="adminCardButton">Agregar Producto en Oferta</button>
                    <button type="button" id="closeDiscountedModalButton" class="adminCardButton hide">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para Eliminar Producto en Oferta -->
    <div id="deleteDiscountedProductModal" class="modal hidden">
        <div class="modal-content">
            <h3 class="adminCardTitle">Eliminar Producto en Oferta</h3>
            <div id="discountedProductList" class="space-y-4">
                <!-- Aquí se cargarán los productos desde la base de datos -->
            </div>
            <div class="text-right">
                <button type="button" id="closeDeleteDiscountedModalButton" class="adminCardButton hide">Cerrar</button>
            </div>
        </div>
    </div>

    <!-- Modal para Listar Productos en Oferta -->
    <div id="listDiscountedProductsModal" class="modal hidden">
        <div class="modal-content">
            <h3 class="adminCardTitle">Lista de Productos en Oferta</h3>
            <div id="discountedProductListContainer" class="space-y-4">
                <!-- Aquí se cargarán los productos desde la base de datos -->
            </div>
            <div class="text-right">
                <button type="button" id="closeListDiscountedModalButton" class="adminCardButton hide">Cerrar</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="divFooter">
            <div class="footerFlex">
                <div class="footerSection">
                    <h2 class="footerTitle">Sobre Nosotros</h2>
                    <p class="footerText mr-8">Somos una tienda de ordenadores dedicada a ofrecer los mejores productos y servicios para satisfacer todas tus necesidades tecnológicas.</p>
                </div>
                <!-- Quick Links -->
                <div class="footerSection">
                    <h2 class="footerTitle">Enlaces Rápidos</h2>
                    <ul class="footerList">
                        <li class="footerListItem"><a href="/HTML/index.html" class="footerLink">Inicio</a></li>
                        <li class="footerListItem"><a href="/HTML/productos.html" class="footerLink">Productos</a></li>
                        <li class="footerListItem"><a href="/HTML/sobreNosotros.html" class="footerLink">Sobre Nosotros</a></li>
                        <li class="footerListItem"><a href="/HTML/contanto.html" class="footerLink">Contacto</a></li>
                    </ul>
                </div>
                <!-- Support -->
                <div class="footerSection">
                    <h2 class="footerTitle">Soporte</h2>
                    <ul class="footerList">
                        <li class="footerListItem"><a href="/HTML/preguntasFrecuentes.html" class="footerLink">Preguntas Frecuentes</a></li>
                        <li class="footerListItem"><a href="/HTML/terminosCondiciones.html" class="footerLink">Términos y Condiciones</a></li>
                        <li class="footerListItem"><a href="/HTML/politicaPrivacidad.html" class="footerLink">Política de Privacidad</a></li>
                    </ul>
                </div>
                <!-- Contact Info -->
                <div class="footerSection">
                    <h2 class="footerTitle">Contáctanos</h2>
                    <p class="footerText mb-2">Teléfono: +123 456 789</p>
                    <p class="footerText mb-2">Email: info@tiendadeordenadores.com</p>
                    <p class="footerText">Dirección: Calle Falsa 123, Ciudad, País</p>
                </div>
            </div>
            <div class="footerBottom">
                &copy; 2024 Tienda de Ordenadores. Todos los derechos reservados.
            </div>
        </div>
    </footer>
    <!-- Adding the JS file -->
    <script src="/JS/App.js"></script>
    <script src="/JS/navbar.js"></script>
    <script src="/JS/adminProductos.js" ></script>
    <script src="/JS/adminBestSellingProducts.js"></script>
    <script src="/JS/adminProductsOferts.js"></script>

</body>
</html>